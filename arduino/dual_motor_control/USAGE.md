# 双电机控制 - 快速使用指南

## 🚀 快速开始

### 1. 上传程序
- 打开 `dual_motor_control.ino`
- 选择ESP32开发板
- 上传程序

### 2. 打开串口监视器
- 波特率：115200
- 会看到：`=== 双电机控制程序 ===`

### 3. 基本测试
```bash
1-90              # 电机1转到90度
2-180             # 电机2转到180度
sync 0 0          # 双电机回到0度
```

## 📋 主要命令

### 单电机控制
```bash
1-90              # 电机1到90度
2-180             # 电机2到180度
1-0               # 电机1回到0度
2-270             # 电机2到270度
```

### 同步控制
```bash
sync 90 180       # 电机1到90度，电机2到180度
sync 0 0          # 双电机回到0度
sync 45 135       # 电机1到45度，电机2到135度
```

### 配置命令
```bash
config            # 显示当前配置
id1 3             # 设置电机1ID为3
id2 4             # 设置电机2ID为4
restart           # 重启双电机
```

### 参数调节
```bash
kp1 25            # 设置电机1位置KP
kp2 30            # 设置电机2位置KP
speed 3.0         # 设置双电机速度
```

### 状态控制
```bash
status            # 显示双电机状态
stop              # 停止双电机
zero              # 设零点
help              # 显示帮助
```

## 🎯 推荐使用流程

### 1. 首次使用
```bash
config            # 查看当前配置
1-90              # 测试电机1
2-90              # 测试电机2
sync 45 135       # 测试同步控制
```

### 2. 如果电机ID不是1和2
```bash
id1 11            # 设置电机1的实际ID
id2 12            # 设置电机2的实际ID
restart           # 重启应用
1-90              # 测试电机1
2-90              # 测试电机2
```

### 3. 机器人关节控制示例
```bash
sync 0 0          # 双关节回到起始位置
sync 90 45        # 关节1到90度，关节2到45度
sync 180 90       # 关节1到180度，关节2到90度
sync 0 0          # 回到起始位置
```

## ⚠️ 重要注意事项

1. **默认电机ID**：1和2
2. **ID范围**：1-127
3. **角度输入**：0-360度
4. **弧度输入**：支持小弧度值
5. **同步控制**：两个电机同时运动

## 🔧 故障排除

### 电机不响应？
- 检查CAN连接和电机电源
- 查看config确认电机ID是否正确
- 尝试单独控制每个电机

### ID设置错误？
- 使用config查看当前配置
- 重新设置正确的ID：id1 X, id2 Y
- restart重启应用

---

**简单使用**：1-90(电机1), 2-180(电机2), sync 90 45(同步) ✅